# Сервис синхронизации файлов с Яндекс.Диском

Простой и надёжный сервис для автоматической синхронизации локальной папки с облачным хранилищем Яндекс.Диск через API.

---

## Возможности

- Рекурсивная синхронизация локальной папки с указанной папкой на Яндекс.Диске.
- Автоматическая загрузка новых файлов.
- Обновление изменённых файлов.
- Удаление файлов из облака при их удалении локально.
- Логирование всех операций в файл.
- Настраиваемый интервал синхронизации.

---

## Требования

- Python 3.7+
- Библиотека `requests`

Установка зависимостей:

```

pip install requests

```

---

## Настройка

1. Зарегистрируйте приложение в [Яндекс OAuth](https://oauth.yandex.ru/client/new/) и получите `ClientID`.
2. Получите OAuth-токен с нужными правами (`cloud_api:disk.read` и `cloud_api:disk.write`), используя URL:

```

https://oauth.yandex.ru/authorize?response_type=token\&client_id=<ClientID>\&scope=cloud_api:disk.read%20cloud_api:disk.write

```

3. Создайте файл `config.ini` в корне проекта со следующим содержимым:

```

[Settings]
local_folder = /путь/к/локальной/папке
cloud_folder = backup_folder
token = ваш_полученный_токен
sync_interval = 60
log_file = /путь/к/файлу/лога/sync.log

```

- `local_folder` — локальная папка для синхронизации.
- `cloud_folder` — папка на Яндекс.Диске (будет создана, если отсутствует).
- `token` — OAuth-токен для доступа к Яндекс.Диску.
- `sync_interval` — интервал синхронизации в секундах.
- `log_file` — путь к файлу для записи логов.

---

## Запуск

Запустите сервис командой:

```

python main.py

```

Сервис будет работать в бесконечном цикле, синхронизируя файлы с указанным интервалом.

---

## Структура проекта

```

file_sync_service/
├── main.py
├── config_reader.py
├── cloud_storage.py
├── file_sync.py
├── logger_setup.py
└── config.ini

```

- `main.py` — точка входа, запускает цикл синхронизации.
- `config_reader.py` — чтение и проверка конфигурации.
- `cloud_storage.py` — класс для работы с API Яндекс.Диска.
- `file_sync.py` — функции для синхронизации файлов.
- `logger_setup.py` — настройка логирования.
- `config.ini` — файл настроек.

---

## Логи

Все операции и ошибки записываются в файл, указанный в `config.ini` в параметре `log_file`.

---

## Безопасность

- Никогда не публикуйте ваш OAuth-токен в открытых репозиториях.
- Храните `config.ini` в защищённом месте.
- При необходимости используйте переменные окружения для хранения токена.

---

## Лицензия

Этот проект предоставляется "как есть" без каких-либо гарантий.

---



